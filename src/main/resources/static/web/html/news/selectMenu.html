<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>选择栏目</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<script type="text/javascript" src="/resources/miniui/scripts/boot.js"></script>
	<script type="text/javascript" src="/resources/organizational/js/util.js"></script>
	<style type="text/css">
		body {overflow-x: hidden;}
		html, body {padding: 0;margin: 0;border: 0;width: 100%;height: 100%;overflow: hidden;}
	</style>
</head>

<body>
	<div class="mini-fit">
        <ul id="tree1" class="mini-tree" url="/web/v1/newsMenu/queryListTree" style="width:100%;"
            showTreeIcon="true" textField="menuName" idField="menuId" parentField="superiorId" resultAsTree="false" expandOnLoad="true">
        </ul>
    </div>
    
	<div class="mini-toolbar" style="text-align:center; padding-top:15px; padding-bottom:25px;" borderStyle="border-left:0;border-bottom:0;border-right:0;">
		<a class="mini-button" style="width: 60px;" onclick="onOk()">确定</a>
		<a class="mini-button" style="width: 60px;" onclick="onCancel()">取消</a>
	</div>
	
	<script type="text/javascript">
		mini.parse();
		
		var tree = mini.get("tree1");
		tree.load();
	
		function GetData() {
			return tree.getSelectedNode();
		}

		function onOk() {
			var node = tree.getSelectedNode();
			if(node != null && node != undefined){
				CloseWindow("ok");
			}else{
				alert("请选择栏目!");
				return;
			}
		}
		
		function onCancel() {
			CloseWindow("cancel");
		}
	</script>
</body>
</html>
