<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <title>组织架构</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<link href="/resources/organizational/css/style.css" rel="stylesheet" type="text/css" />
	<script src="/resources/miniui/scripts/boot.js" type="text/javascript"></script>
</head>
<style>
	body{
		background: #FFFFFF;
	}
</style>
<body >   
	<div class="mini-splitter" style="width:100%;height:100%;">
		<!-- 部门 -->
	    <div size="250" showCollapseButton="false">
	    	<div class="mini-toolbar" style="margin:0 -5px 0 -5px;padding:0px;border-top:0;border-left:0;border-right:0;">
		        <table style="width:100%; table-layout:fixed;">
					<tr>
						<td align="center" width="60" nowrap="nowrap"><label style="font-family:Verdana;" >组织架构</label></td>
			            <td style="white-space:nowrap; padding-right:5px;" align="right">
			                <a id="btnNewDept" class="mini-button" iconCls=""><i class="fa fa-plus"></i>新增</a>
			                <a id="btnDeleteDept" class="cus_btn_del" iconCls=""><i class="fa fa-trash"></i>删除</a>
		                </td>
					</tr>
		        </table>
		    </div>
			<div class="mini-fit">
	            <ul id="tree1" class="mini-tree" url="/organ/deptLists" style="width:100%;" resultAsTree="false"
				    showTreeLines="true" showTreeIcon="true" expandOnLoad="0" selectOnLoad="true" textField="dept_name" 
					idField="dept_id" parentField="p_dept_id" onnodedblclick="onTreeNodeDblClick" onnodeselect="loadDatagrid">
	            </ul>
	        </div>
	    </div>
	    
	    <div showCollapseButton="false">
			<!-- 岗位 -->
	        <div class="mini-toolbar toolbar-header" style="padding:0px;border-top:0;border-left:0;border-right:0;">
			    <table style="width:100%;">
			        <tr>
				        <td align="left">岗位列表</td>
				        <td align="right">
				        	 <a id="btnNewPosition" class="mini-button" iconCls=""><i class="fa fa-plus"></i>新增</a>
               				 <a id="btnDeletePosition" class="cus_btn_del" iconCls=""><i class="fa fa-trash"></i>删除</a>
				        </td>
			        </tr>
			    </table>
			</div>
	        <div id="datagrid_position" class="mini-datagrid" style="width:100%;height:40%;" borderStyle="border-left:0;border-right:0;border-top:0;" sizeList="[5,10,20,50]" pageSize="20"
	             url="/organ/listPage" idField="position_id" onrowdblclick="onRowDblClickForPosition" onselectionchanged="onSelectionChanged" selectOnLoad="true">
	            <div property="columns">
	                <div type="indexcolumn" width="50px" headerAlign="center" allowResize="false">序号</div>
	                <div field="position_name" headerAlign="center">岗位名称</div>
	                <div field="dept_name" headerAlign="center">所属部门</div>
	                <div field="memo" width="20%" headerAlign="center">岗位说明</div>
	            </div>
	        </div> 
	        
			<!-- 成员 -->
			<div class="mini-toolbar toolbar-header" style="padding:0px;border-left:0;border-right:0;margin-top:2px;">
			    <table style="width:100%;">
			        <tr>
				        <td align="left">成员列表</td>
				        <td align="right">
				        	 <a id="btnAddUser" class="mini-button" iconCls=""><i class="fa fa-plus"></i>添加</a>
               				 <a id="btnRemoveUser" class="cus_btn_del" iconCls=""><i class="fa fa-trash"></i>移除</a>
				        </td>
			        </tr>
			    </table>
			</div>
			<div class="mini-fit">
				<div id="datagrid_user" class="mini-datagrid" style="width:100%;height:100%;" borderStyle="border:none;" sizeList="[5,10,20,50]" pageSize="20"
		             url="/user/listUserPage" idField="user_id" onrowdblclick="" multiSelect="true">
		            <div property="columns">
		                <div type="checkcolumn" width="50px" headerAlign="center">序号</div>
		                <div field="user_name" headerAlign="center">用户姓名</div>
		                <div field="user_no" headerAlign="center">编号</div>
		                <div field="mobile_no" headerAlign="center">移动电话</div>
						<div field="work_phone" headerAlign="center">工作电话</div> 
						<div field="email" headerAlign="center">电子邮箱</div> 
						<div field="is_primary_cn" headerAlign="center" align="center" renderer="onMarriedRenderer">是否默认岗位</div>
		            </div>
		        </div>
			</div>	
	    </div>        
	</div>
</body>
<script src="/resources/organizational/js/util.js" type="text/javascript"></script>
<script src="/resources/organizational/js/organizeList.js" type="text/javascript"></script>
</html>
